<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Home - Zindigi Musafir</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1E3A6D', // Deep Blue
            'primary-light': '#2A4B8D',
            'primary-pale': '#E8EDF5',
            accent: '#26d0ce', // Teal Accent
          }
        }
      }
    }
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Custom Styles -->
  <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-gray-200 font-sans">
  <div class="min-h-screen flex justify-center">
    <!-- Mobile Frame -->
    <div class="w-full max-w-md bg-white min-h-screen shadow-2xl relative overflow-hidden flex flex-col">

      <!-- Main Content Area -->
      <main id="app" class="flex-1 overflow-y-auto no-scrollbar bg-gray-50 pb-20">
        <div class="pt-6 pb-28 space-y-6 bg-white min-h-screen">
          <!-- Header -->
          <div class="flex px-3 justify-between items-center border-b border-gray-100 pb-2">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 rounded-full bg-gray-200 overflow-hidden border border-gray-100">
                <img src="https://picsum.photos/seed/abdullah/100/100" alt="Abdullah"
                  class="w-full h-full object-cover" />
              </div>
              <div>
                <p class="text-xs text-[#627497] font-medium">Assalam o Alaikom</p>
                <h1 class="text-lg font-bold text-gray-800">Abdullah!</h1>
              </div>
            </div>
            <div class="flex space-x-3">
              <button
                class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-[#627497] hover:bg-gray-50">
                <i data-lucide="bell" width="20"></i>
              </button>
              <button id="menu-btn"
                class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-[#627497] hover:bg-gray-50">
                <i data-lucide="menu" width="20"></i>
              </button>
            </div>
          </div>

          <!-- Hero Section Container -->
          <div id="hero-banner-container" class="px-3">
            <!-- Rendered via JS -->
          </div>

          <!-- Stats Grid -->
          <div class="grid grid-cols-2 gap-2 px-3">
            <div class="bg-[#F4F8FB] rounded-lg px-2 py-3 shadow-sm">
              <div class="flex justify-between items-start mb-1">
                <span class="text-sm font-semibold text-[#627497]">Umrah Savings</span>
              </div>
              <div class="flex items-center justify-between gap-2">
                <h3 class="font-bold text-sm text-primary">PKR 250,000</h3>
                <img src="assets/svgs/savings.svg" class="w-8 h-8" alt="" onerror="this.style.display='none'">
              </div>
              <p class="text-xs text-gray-400 mt-1">
                Youâ€™re getting close to your Umrah - keep moving at your pace.
              </p>
            </div>
            <div class="bg-[#F4F8FB] rounded-lg px-2 py-3 shadow-sm">
              <div class="flex justify-between items-start">
                <span class="text-sm font-semibold text-[#627497]">Ihram Points</span>
              </div>
              <div class="flex items-center justify-between gap-2">
                <h3 class="text-sm font-bold text-primary">1,259</h3>

                <img src="assets/svgs/ihram_points.svg" class="w-8 h-8" alt="" onerror="this.style.display='none'">
              </div>
              <p class="text-xs text-gray-400 mt-1">
                Collect points with every booking and step closer to exclusive Umrah rewards.
              </p>
            </div>

            <!-- Inspiration Card -->
            <div class="bg-[#F4F8FB] rounded-lg px-2 py-3 shadow-sm relative overflow-hidden">
              <div class="flex justify-between items-start mb-2">
                <h3 class="text-sm font-bold text-[#627497]">Inspiration</h3>
                <div class="w-8 h-8 bg-[#2f7d78] rounded-full flex items-center justify-center shadow-sm">
                  <i data-lucide="book-open" class="text-white" width="16"></i>
                </div>
              </div>
              <p class="text-xs text-[#627497] italic mb-3 leading-relaxed">
                And complete the Hajj and the â€˜Umrah for Allah.
              </p>
              <p class="text-xs font-semibold text-[#627497] text-right">
                Surah al-Baqarah 2:192
              </p>
            </div>

            <!-- Community Card -->
            <div class="bg-[#F4F8FB] rounded-lg px-2 py-3 shadow-sm">
              <div class="flex justify-between items-start mb-2">
                <h3 class="text-sm font-bold text-[#627497]">Community</h3>
                <div class="w-8 h-8 bg-[#a3d616] rounded-full flex items-center justify-center shadow-sm">
                  <i data-lucide="users" class="text-white" width="16"></i>
                </div>
              </div>
              <!-- Avatar Group -->
              <div class="flex items-center -space-x-2 mb-3 pl-1">
                <img class="w-7 h-7 rounded-full border-2 border-white object-cover shadow-sm"
                  src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=100&q=80"
                  alt="">
                <img class="w-7 h-7 rounded-full border-2 border-white object-cover shadow-sm"
                  src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?auto=format&fit=crop&w=100&q=80"
                  alt="">
                <img class="w-7 h-7 rounded-full border-2 border-white object-cover shadow-sm"
                  src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=100&q=80"
                  alt="">
                <img class="w-7 h-7 rounded-full border-2 border-white object-cover shadow-sm"
                  src="https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&w=100&q=80"
                  alt="">
                <div
                  class="w-7 h-7 rounded-full border-2 border-white bg-[#24B3BA] flex items-center justify-center text-[8px] text-white font-bold shadow-sm z-10">
                  +42
                </div>
              </div>
              <p class="text-[10px] text-[#627497] leading-tight">
                <span class="font-bold text-[#1E3A6D]">45 Pilgrims</span> started their journey today.
              </p>
            </div>
          </div>

          <!-- Tip Card -->
          <div class="px-3">
            <div class="bg-[#F4F8FB] rounded-lg p-5 border border-gray-100 px-3">
              <div class="flex items-center space-x-2 mb-3">
                <div
                  class="w-6 h-6 bg-primary-pale text-primary rounded-full flex items-center justify-center bg-[#E8EDF5] text-[#1E3A6D]">
                  <span class="text-xs">ðŸ’¡</span>
                </div>
                <h3 class="text-sm font-semibold text-primary">Ibrahim's Tip</h3>
              </div>
              <p class="text-xs text-[#627497] leading-relaxed ">
                If you make purchases using your Zindagi card, you earn points that can later help you perform Umrah.
              </p>
              <a href="plans.html"
                class="text-primary text-sm font-bold flex items-center hover:underline text-[#1E3A6D]">
                Ask Ibrahim <i data-lucide="chevron-right" width="14"></i>
              </a>
            </div>
          </div>

          <!-- Lucky Draw -->
          <div class="px-3">
            <div class="relative lucky-draw rounded-lg p-5 text-white overflow-hidden">
              <div class="relative z-10 w-2/3">
                <div class="flex justify-between items-center space-x-2">
                  <div>
                    <h3 class="text-md font-bold text-[#1E3A6D] mb-1">Umrah Lucky Draw</h3>

                    <div class="flex items-center space-x-2 text-sm text-[#1E3A6D] ">
                      <span>Next Draw: 01/11/2025</span>
                    </div>
                  </div>

                </div>

                <div class="w-56 bg-gray-100 h-1.5 rounded-full my-3">
                  <div class="bg-primary h-full w-1/2 rounded-full" style="background-color: #24B3BA;"></div>
                </div>

                <a href="journeyForm.html"
                  class="w-[80%] bg-[#1E3A6D] hover:bg-blue-600 py-2 rounded-lg text-xs font-semibold flex items-center justify-center space-x-2 transition-colors border border-white/10 text-white">
                  <i data-lucide="gift" width="12"></i>
                  <span>Join Lucky Draw</span>
                </a>

              </div>
              <div class="absolute right-[-25px] bottom-0">
                <img src="assets/images/gift.png" class="w-[190px]" alt="" onerror="this.style.display='none'">
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Side Menu Overlay -->
      <div id="side-menu-overlay"
        class="fixed inset-0 bg-black/20 z-40 hidden opacity-0 transition-opacity duration-300"></div>

      <!-- Side Menu Drawer -->
      <div id="side-menu"
        class="absolute top-0 bottom-0 right-0 z-50 transform translate-x-full transition-transform duration-300 ease-in-out bg-white w-3/4 h-full">
        <!-- Inner Container -->
        <div class="flex flex-col h-full relative">
          <!-- Close Button -->
          <button id="menu-close-btn" class="absolute top-8 right-5 text-gray-800 p-2 hover:bg-gray-100 rounded-full">
            <i data-lucide="x" width="24"></i>
          </button>

          <!-- Menu Content -->
          <div class="mt-24 px-3 space-y-3">
            <a href="profile.html"
              class="flex items-center space-x-3 px-4 py-4 text-gray-500 hover:bg-gray-50 rounded-xl transition-colors">
              <i data-lucide="user" width="20"></i>
              <span class="font-medium">Profile & Settings</span>
            </a>

            <a href="support.html"
              class="flex items-center space-x-3 px-4 py-4 text-gray-500 hover:bg-gray-50 rounded-xl transition-colors">
              <i data-lucide="help-circle" width="20"></i>
              <span class="font-medium">Support</span>
            </a>

            <a href="terms-and-conditions.html"
              class="flex items-center space-x-3 px-4 py-4 text-gray-500 hover:bg-gray-50 rounded-xl transition-colors">
              <i data-lucide="file-text" width="20"></i>
              <span class="font-medium">Terms & Conditions</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Bottom Navigation -->
      <nav id="bottom-nav"
        class="fixed bottom-0 left-0 right-0 bg-primary text-white pb-safe pt-2 px-4 z-50 max-w-md mx-auto rounded-t-2xl shadow-2xl">
        <div class="flex justify-between items-center pb-4 pt-2">
          <!-- Home (Active) -->
          <button class="flex flex-col items-center space-y-1.5 transition-all duration-300 w-1/4 text-accent"
            style="color: #26d0ce;">
            <div class="transition-all duration-300 -translate-y-1">
              <i data-lucide="home" width="22" stroke-width="2.5"></i>
            </div>
            <span class="text-[9px] font-medium tracking-wide opacity-100">
              Home
            </span>
          </button>

          <!-- Ihram -->
          <a href="journey.html"
            class="flex flex-col items-center space-y-1.5 transition-all duration-300 w-1/4 text-blue-200"
            style="color: #bfdbfe;">
            <div class="transition-all duration-300">
              <i data-lucide="package" width="22" stroke-width="2"></i>
            </div>
            <span class="text-[9px] font-medium tracking-wide opacity-70">
              Ihram
            </span>
          </a>

          <!-- Plans -->
          <a href="plans.html"
            class="flex flex-col items-center space-y-1.5 transition-all duration-300 w-1/4 text-blue-200"
            style="color: #bfdbfe;">
            <div class="transition-all duration-300">
              <i data-lucide="calendar" width="22" stroke-width="2"></i>
            </div>
            <span class="text-[9px] font-medium tracking-wide opacity-70">
              Umrah
            </span>
          </a>

          <!-- Rewards -->
          <a href="points.html"
            class="flex flex-col items-center space-y-1.5 transition-all duration-300 w-1/4 text-blue-200"
            style="color: #bfdbfe;">
            <div class="transition-all duration-300">
              <i data-lucide="trophy" width="22" stroke-width="2"></i>
            </div>
            <span class="text-[9px] font-medium tracking-wide opacity-70">
              Rewards
            </span>
          </a>
        </div>
      </nav>
    </div>
  </div>

  <script>
    // --- State ---
    const state = {
      isUpgraded: localStorage.getItem('isUpgraded') === 'true'
    };

    function renderHero() {
      const container = document.getElementById('hero-banner-container');
      if (state.isUpgraded) {
        container.innerHTML = `
          <div class="banner-gradient relative px-3 rounded-lg mt-5 text-white p-5">
            <div class="relative w-2/3">
              <h2 class="text-md font-bold mb-1">From Intention To Preparation</h2>
              <p class="text-xs text-blue-100 mb-4 leading-relaxed">
                Your Ihram Account is now active. May this step bring barakah and help you move closer to Umrah with confidence and calm.
              </p>
              <a href="journeyForm.html"
                class="bg-[#24B3BA] flex items-center gap-1 hover:bg-primary hover:text-white text-white text-xs font-bold py-2.5 px-3 rounded-lg transition-colors shadow-md w-fit">
                <i data-lucide="plus" width="14"></i> Start Your Umrah Plan
              </a>
            </div>
            <div class="absolute right-[10px] bottom-[-20px] h-40">
              <img src="assets/images/upgraded.png" alt="Pilgrim Upgraded" style="height: 200px; transform: translateY(-60px);"
                onerror="this.style.display='none'">
            </div>
          </div>
        `;
      } else {
        container.innerHTML = `
          <div class="banner-gradient relative px-3 rounded-lg mt-5 text-white p-5">
            <div class="relative w-2/3">
              <h2 class="text-md font-semibold mb-1">Upgrade to Ihram Account</h2>
              <p class="text-xs text-blue-100 mb-4 leading-relaxed">
                Make your dream Umrah a reality. Every point you earn brings you closer to Makkah.
              </p>
              <button onclick="showUpgradeModal()"
                class="bg-[#24B3BA] flex items-center gap-1 hover:bg-primary hover:text-white text-white text-xs font-bold py-2.5 px-3 rounded-lg transition-colors shadow-md w-fit">
                <img src="assets/svgs/sparkles.svg" alt="" onerror="this.style.display='none'"> Upgrade Now
              </button>
            </div>
            <div class="absolute right-[-5px] bottom-[-20px] w-40 h-40">
              <img src="assets/images/ibrahim.png" alt="Pilgrim" style="height: 190px; transform: translateY(-50px);"
                onerror="this.style.display='none'">
            </div>
          </div>
        `;
      }
      lucide.createIcons();
    }

    // Initial render
    renderHero();
    lucide.createIcons();
  </script>
  <script src="js/sidebar.js"></script>

  <!-- Upgrade Modal -->
  <div id="upgrade-modal"
    class="fixed inset-0 bg-black/60 z-50 hidden flex items-center justify-center opacity-0 transition-opacity duration-300">
    <div
      class="bg-white mx-5 rounded-2xl p-4 relative w-full max-w-sm scale-95 transition-transform duration-300 text-center">
      <!-- Icon -->
      <div class="w-16 h-16 bg-[#1E3A6D] rounded-full flex items-center justify-center mx-auto mb-2">
        <img class="w-10 h-10" src="assets/svgs/bonus.svg" alt="">
      </div>

      <h2 class="text-md font-bold text-[#1E3A6D] mb-2">You Won!</h2>
      <p class="text-xs text-gray-500 mb-3">A Step Closer to Umrah</p>
      <div class="lucky-draw text-xs p-2
        text-gray-500 mb-3 rounded-lg">By upgrading your account, you have taken a meaningful step toward a sacred
        Umrah journey.
        The Ihram Points you have received represent progress made with faith and patience. Every point moves you closer
        to Umrah and reminds you that preparation is also a form of worship.</div>

      <div
        class="lucky-draw flex justify-between items-center border border-[#41AB13]/20 rounded-xl p-3 mb-3 relative overflow-hidden">
        <p class="text-sm text-[#3B6F67] font-medium text-left">Bonus Reward</p>
        <div class="text-right">
          <span class="text-2xl font-bold text-[#24B3BA] block">+50</span>
          <span class="text-xs text-[#627497] font-medium">Ihram Points</span>
        </div>
        <!-- Decor -->
        <div class="absolute -left-2 -bottom-2 w-12 h-12 bg-[#41AB13] rounded-full opacity-10"></div>
      </div>

      <button onclick="completeUpgrade()"
        class="w-full bg-[#1E3A6D] text-white py-3.5 rounded-xl font-bold hover:bg-[#16315b] transition">
        Continue
      </button>
    </div>
  </div>


  <!-- Upgrade Prompt Modal (Auto Show) -->
  <div id="upgrade-prompt-modal"
    class="fixed inset-0 bg-black/60 z-50 hidden flex items-center justify-center opacity-0 transition-opacity duration-300">
    <div class="bg-white mx-3 rounded-2xl p-4 relative w-full max-w-sm scale-95 transition-transform duration-300">

      <!-- Close Button -->
      <button onclick="closeUpgradePrompt()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
        <i data-lucide="x" width="20"></i>
      </button>

      <!-- Icon -->
      <div class="flex items-center gap-3 mb-4">
        <div class="w-12 h-12 bg-[#1E3A6D] rounded-full flex items-center justify-center  shrink-0">
          <img src="assets/svgs/crown.svg" alt="">
        </div>
        <div>
          <h2 class="text-lg font-bold text-[#1E3A6D] leading-tight">Upgrade to Ihram Account</h2>
          <p class="text-xs text-[#627497]">Unlock 2x Rewards & Priority</p>
        </div>
      </div>

      <p class="text-sm text-gray-500 mb-4 leading-relaxed">
        Unlock exclusive savings, earn double points, and priority support.
      </p>

      <div class="flex gap-3">
        <button onclick="closeUpgradePrompt()"
          class="w-1/2 bg-[#F4F8FB] text-[#627497] py-3 rounded-xl font-bold text-sm hover:bg-gray-100 transition">
          Remind Later
        </button>
        <button onclick="triggerWinModal()"
          class="w-1/2 bg-[#1E3A6D] text-white py-3 rounded-xl font-bold text-sm hover:bg-[#16315b] transition">
          Upgrade Now
        </button>
      </div>
    </div>
  </div>

  <script>
    // Logic for the new "Upgrade Prompt" modal

    // Show prompt on load
    window.addEventListener('load', () => {
      // Small delay for better UX
      setTimeout(() => {
        const promptModal = document.getElementById('upgrade-prompt-modal');
        const promptContent = promptModal.querySelector('div');

        promptModal.classList.remove('hidden');
        setTimeout(() => {
          promptModal.classList.remove('opacity-0');
          promptContent.classList.remove('scale-95');
          promptContent.classList.add('scale-100');
        }, 10);
      }, 1000); // 1 second delay
    });

    function closeUpgradePrompt() {
      const promptModal = document.getElementById('upgrade-prompt-modal');
      const promptContent = promptModal.querySelector('div');

      promptContent.classList.remove('scale-100');
      promptContent.classList.add('scale-95');
      promptModal.classList.add('opacity-0');

      setTimeout(() => {
        promptModal.classList.add('hidden');
      }, 300);
    }

    function triggerWinModal() {
      // Close prompt first
      closeUpgradePrompt();

      // Wait for close animation then show "You Won" modal
      setTimeout(() => {
        showUpgradeModal(); // Existing function for the "You Won" modal
      }, 300);
    }

    function showUpgradeModal() {
      const modal = document.getElementById('upgrade-modal');
      const modalContent = modal.querySelector('div');

      modal.classList.remove('hidden');
      // Small delay to allow display:block to apply before opacity transition
      setTimeout(() => {
        modal.classList.remove('opacity-0');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);

      // Attempt to play sound if browser allows
      // const audio = new Audio('assets/sounds/win.mp3'); 
      // audio.play().catch(e => console.log('Audio play failed', e));
    }

    function completeUpgrade() {
      // Set upgraded state
      state.isUpgraded = true;
      localStorage.setItem('isUpgraded', 'true');

      // Update UI
      renderHero();

      // Close win modal
      const modal = document.getElementById('upgrade-modal');
      const modalContent = modal.querySelector('div');

      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      modal.classList.add('opacity-0');

      setTimeout(() => {
        modal.classList.add('hidden');
      }, 300);
    }
  </script>
</body>

</html>